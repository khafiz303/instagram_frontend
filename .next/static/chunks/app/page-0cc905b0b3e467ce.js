(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2444:function(e,t,a){Promise.resolve().then(a.bind(a,6172))},4619:function(e,t,a){"use strict";a.d(t,{N:function(){return n}});let n="http://46.101.192.129:1000"},3260:function(e,t,a){"use strict";a.d(t,{ni:function(){return c},uX:function(){return d},y1:function(){return h}});var n=a(8160),s=a(3598),o=a(3940),i=a(4619);let r={isAuth:!1,currentUser:null,tokenExt:0};{let e=localStorage.getItem("token");if(e){let t=(0,o.o)(e);1e3*t.exp>Date.now()?(r={isAuth:!0,currentUser:{id:t.id,email:t.email,username:t.username},tokenExt:t.exp},s.Z.defaults.headers.common.Authorization="Bearer ".concat(e)):localStorage.removeItem("token")}}let u=(0,n.oM)({name:"auth",initialState:r,reducers:{authorize:(e,t)=>{localStorage.setItem("token",t.payload.token),s.Z.defaults.headers.common.Authorization="Bearer ".concat(t.payload.token);let a=(0,o.o)(t.payload.token);e.currentUser={id:a.id,email:a.email,username:a.username},e.isAuth=!0,e.tokenExt=a.exp},logOut:e=>{e.isAuth=!1,e.currentUser=null,e.tokenExt=0,localStorage.removeItem("token")}}}),{authorize:l,logOut:c}=u.actions,h=(e,t,a)=>n=>{s.Z.post("".concat(i.N,"/api/auth/signup"),{email:e,password:t,username:a}).then(e=>{n(l(e.data))})},d=(e,t)=>a=>{s.Z.post("".concat(i.N,"/api/auth/login"),{email:e,password:t}).then(e=>{a(l(e.data))})};t.ZP=u.reducer},6172:function(e,t,a){"use strict";a.d(t,{default:function(){return c}});var n=a(7821),s=a(7036),o={src:"/_next/static/media/logoo.67ee4fba.png",height:51,width:176,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAQAAADPnVVmAAAAKElEQVR42mNQK1bzUctWi1DzBcJoNX8GNT01WzULNUe1bDUzNRc1cwB/mAcnuspTEgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2},i=a(8078),r=a(168),u=a(6878),l=a(3260);function c(){let[e,t]=(0,i.useState)(1),[a,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),p=(0,u.I0)(),[x,j]=(0,i.useState)(""),v=(0,u.v9)(e=>e.auth.isAuth),A=(0,r.useRouter)();return(0,u.v9)(e=>e.auth.currentUser),(0,i.useEffect)(()=>{v&&A.push("/home")},[v]),(0,n.jsxs)("section",{children:[1===e&&(0,n.jsxs)("div",{className:"auth",children:[(0,n.jsx)("div",{className:"auth-img",children:(0,n.jsx)(s.default,{src:o,alt:"Logo"})}),(0,n.jsxs)("div",{className:"main-auth",children:[(0,n.jsx)("p",{children:"Sign up to see photos and videos from your friends."}),(0,n.jsxs)("button",{className:"button btn-auth",children:[(0,n.jsx)("img",{src:"/images/lofo_faceBook.png"}),"Log in with Facebook"]}),(0,n.jsxs)("div",{className:"border",children:[(0,n.jsx)("span",{}),(0,n.jsx)("p",{children:"OR"}),(0,n.jsx)("span",{})]}),(0,n.jsxs)("div",{className:"input",children:[(0,n.jsx)("input",{placeholder:"Email",value:a,onChange:e=>c(e.target.value)}),(0,n.jsx)("input",{placeholder:"Username",value:h,onChange:e=>d(e.target.value)}),(0,n.jsx)("input",{placeholder:"Password",value:m,onChange:e=>g(e.target.value)}),x&&(0,n.jsx)("p",{className:"error",children:x})]}),(0,n.jsx)("p",{children:"People who use our service may have uploaded your contact information to Instagram. Learn More"}),(0,n.jsx)("p",{children:"By signing up, you agree to our Terms , and Cookies Policy ."}),(0,n.jsx)("button",{className:"button",onClick:()=>{""==a&&j("Введите email корректно"),""==h&&j("Введите username корректно"),m.length>=0&&j("Введите password корректно"),""!==a&&""!==h&&m.length>8&&p((0,l.y1)(a,m,h))},children:"Sign up"})]})]}),1===e&&(0,n.jsx)("div",{className:"auth auth-b",children:(0,n.jsxs)("p",{children:["Have an account? ",(0,n.jsx)("span",{onClick:()=>t(2),children:"Log in"})]})}),2===e&&(0,n.jsxs)("div",{className:"auth",children:[(0,n.jsx)("div",{className:"auth-img",children:(0,n.jsx)(s.default,{src:o,alt:"Logo"})}),(0,n.jsxs)("div",{className:"input",children:[(0,n.jsx)("input",{placeholder:"Email",value:a,onChange:e=>c(e.target.value)}),(0,n.jsx)("input",{placeholder:"Password",value:m,onChange:e=>g(e.target.value)})]}),(0,n.jsx)("button",{className:"button",onClick:()=>{p((0,l.uX)(a,m))},children:"Log in"})]}),2===e&&(0,n.jsx)("div",{className:"auth auth-b",children:(0,n.jsxs)("p",{children:["Done have an account? ",(0,n.jsx)("span",{onClick:()=>t(1),children:"Sign up"})]})}),(0,n.jsxs)("div",{className:"auth-b-parag",children:[(0,n.jsx)("p",{children:"Get the app."}),(0,n.jsxs)("div",{className:"auth-b-logo",children:[(0,n.jsx)("img",{src:"/images/mic-logo.png"}),(0,n.jsx)("img",{src:"/images/gp-logo.png"})]})]})]})}a(4233)}},function(e){e.O(0,[314,178,603,115,205,744],function(){return e(e.s=2444)}),_N_E=e.O()}]);