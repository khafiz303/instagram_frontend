(()=>{var e={};e.id=443,e.ids=[443],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7973:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(5510),r(9353),r(2874);var i=r(7105),l=r(5265),t=r(157),o=r.n(t),n=r(4665),a={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>n[e]);r.d(s,a);let c=["",{children:["profile",{children:["[username]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5510)),"/Users/khafiz/Desktop/insta_frontend/src/app/profile/[username]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3626))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9353)),"/Users/khafiz/Desktop/insta_frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3626))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/khafiz/Desktop/insta_frontend/src/app/profile/[username]/page.js"],u="/profile/[username]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/profile/[username]/page",pathname:"/profile/[username]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7176:(e,s,r)=>{Promise.resolve().then(r.bind(r,6582))},6582:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var i=r(9899),l=r(7769),t=r(1667),o=r(5507),n=r(5949),a=r(6842),c=r(1973),d=r(9519),u=r(6153);function m({close:e,follow:s}){let r=(0,d.v9)(e=>e.profile.following)||[],l=(0,d.v9)(e=>e.profile.MyFollowing)||[];(0,d.v9)(e=>e.auth.currentUser);let t=(0,d.I0)(),{username:o}=(0,u.useParams)();console.log("userFollowinguserFollowing",r);let n=e=>l.some(s=>s.userFollower.id===e),a=[];return a=[...r].sort((e,s)=>e.userFollower?.fullName.localeCompare(s.userFollower?.fullName)),(0,i.jsxs)("div",{className:"modal",children:[i.jsx("div",{className:"modal-white-drop",onClick:e}),(0,i.jsxs)("div",{className:"modal-inner-mini",children:[(0,i.jsxs)("div",{className:"header-follow",children:[i.jsx("span",{}),i.jsx("h2",{children:s}),i.jsx("span",{onClick:e,children:"X"})]}),i.jsx("div",{children:a&&a.map(e=>i.jsx("div",{children:n(e.follower_id)?(0,i.jsxs)("div",{className:"follow",children:[(0,i.jsxs)("div",{children:[i.jsx("img",{src:"/images/ink.png"}),i.jsx("p",{children:e.userFollower?.fullName})]}),i.jsx("button",{className:"button btn-mini",onClick:()=>t((0,c.fv)(e.follower_id)),children:"Following"})]}):(0,i.jsxs)("div",{className:"follow",children:[(0,i.jsxs)("div",{children:[i.jsx("img",{src:"/images/ink.png"}),i.jsx("p",{children:e.userFollower?.fullName})]}),i.jsx("button",{className:"button btn-mini-blue",onClick:()=>t((0,c.PX)(e.follower_id)),children:"Follow"})]})},e.follower_id))})]})]})}var p=r(4175),x=r(9196),h=r(7005);function j(){let[e,s]=(0,o.useState)(),[r,j]=(0,o.useState)(!0),[f,g]=(0,o.useState)(0),v=(0,o.useRef)(null),[w,N]=(0,o.useState)(null),[k,P]=(0,o.useState)(""),[b,_]=(0,o.useState)([]),[C,q]=(0,o.useState)(!1),[F,y]=(0,o.useState)(!1),[S,U]=(0,o.useState)(""),[A,I]=(0,o.useState)(""),[Z,z]=(0,o.useState)(),G=(0,d.I0)(),M=(0,u.useRouter)();(0,d.v9)(e=>e.post.posts);let X=(0,d.v9)(e=>e.auth.currentUser?.id),D=(0,d.v9)(e=>e.auth.currentUser),{username:E}=(0,u.useParams)(),$=(0,d.v9)(e=>e.profile.profile),R=(0,d.v9)(e=>e.profile.following),H=(0,d.v9)(e=>e.profile.followers);(0,d.v9)(e=>e.post.post.comments),console.log("userFollowers",H),console.log(X);let L=e=>{let r=$.posts.find(s=>s.id===e.id);r&&(I(r.description),_(r.comments),s(r.id),z(e),1!=w&&N(r))},O=()=>{N(null),z(),q(!1),y(!1)},T=$.posts?.length;return(0,i.jsxs)("div",{className:"profile",children:[(0,i.jsxs)("div",{className:"header profile-header",children:[i.jsx("div",{className:"profile-header-logo",children:i.jsx("img",{src:"/images/logo-profile.png",alt:"Profile Logo",onClick:()=>M.push("/home")})}),(0,i.jsxs)("div",{className:"header-search",children:[i.jsx("img",{src:"/images/vector.png",alt:"Search Icon"}),i.jsx("input",{placeholder:"Search"})]}),(0,i.jsxs)("div",{className:"header-nav",children:[i.jsx(p.default,{href:"/home",children:i.jsx("img",{src:"/images/home.png",alt:"Home Icon"})}),i.jsx("img",{onClick:()=>g(1),src:"/images/NewPosts.png",alt:"New Posts Icon"}),i.jsx("img",{onClick:()=>{G((0,h.ni)()),M.push("/")},src:"/images/exit.svg"}),i.jsx("img",{onClick:()=>M.push(`/profile/${D.username}`),src:"/images/ink.png",alt:"Profile Picture"})]})]}),(0,i.jsxs)("div",{className:"main-p",children:[i.jsx("div",{className:"main-p-left",children:i.jsx("img",{src:"/images/ink.png",alt:"Profile Picture"})}),(0,i.jsxs)("div",{className:"main-p-right",children:[(0,i.jsxs)("div",{className:"user-info-up",children:[i.jsx("h1",{children:S}),void 0!==X&&void 0!==$.id&&(X===$.id?i.jsx("button",{className:"button",children:"Edit"}):Array.isArray(H)&&H.some(e=>e.user_id===X)?i.jsx("button",{className:"button button-color",onClick:()=>G((0,c.fv)($.id)),children:"Following"}):i.jsx("button",{className:"button",onClick:()=>G((0,c.PX)($.id)),children:"Follow"})),i.jsx("span",{children:"..."})]}),(0,i.jsxs)("div",{className:"user-info-center",children:[(0,i.jsxs)("p",{children:[T," posts"]}),(0,i.jsxs)("p",{onClick:()=>q(!0),children:[H.length>0?H.length:0," followers"]}),(0,i.jsxs)("p",{onClick:()=>y(!0),children:[" ",R.length," following"]})]}),i.jsx("p",{children:S})]})]}),1===f&&i.jsx("div",{ref:v,children:i.jsx(t.Z,{setCreatePost:g,name:S,create:!0,edit:!1})}),$.posts&&$.posts.length>0&&i.jsx(l.Z,{posts:$.posts,onClickPost:L}),null!==w&&(0,i.jsxs)("div",{className:"modal",children:[i.jsx("div",{className:"modal-white-drop",onClick:O}),(0,i.jsxs)("div",{className:"modal-inner",children:[i.jsx("div",{className:"modal-img",children:i.jsx("img",{src:`http://46.101.192.129:1000${w.imageUrl}`,alt:"Post"})}),(0,i.jsxs)("div",{className:"modal-right",children:[(0,i.jsxs)("div",{className:"modal-header",children:[i.jsx(n.Z,{username:S,close:()=>N(null),userId:$.id,selectedPost:w.id,shadow:"shadow",dop:"..."}),i.jsx("p",{children:A})]}),(0,i.jsxs)("div",{className:"comments",children:[i.jsx("div",{className:"comment",children:b.map((e,s)=>i.jsx(n.Z,{username:e.userC?.fullName,text:e.text,remove:X===e.userC?.id?"remove":void 0,deleted:X===e.userC?.id?()=>G((0,x.YF)(e.id)):void 0},s))}),(0,i.jsxs)("div",{className:"add-comment",children:[i.jsx("input",{type:"text",placeholder:"Add a comment",onChange:e=>{P(e.target.value)},value:k}),i.jsx("p",{onClick:()=>{G((0,x.Ir)({text:k,postId:e})),P(""),L(e)},children:"Post"})]})]})]})]})]}),C&&i.jsx(a.Z,{follow:"Followers",close:O}),F&&i.jsx(m,{follow:"Following",close:O})]})}},6842:(e,s,r)=>{"use strict";r.d(s,{Z:()=>n});var i=r(9899),l=r(9519);r(5507);var t=r(6153),o=r(1973);function n({close:e,follow:s}){let r=(0,l.v9)(e=>e.profile.followers)||[],n=(0,l.v9)(e=>e.profile.MyFollowing)||[];(0,l.v9)(e=>e.auth.currentUser);let a=(0,l.I0)(),{username:c}=(0,t.useParams)(),d=e=>n.some(s=>s.userFollower.id===e),u=[];return u=[...r].sort((e,s)=>e.userFollowing?.fullName.localeCompare(s.userFollowing?.fullName)),(0,i.jsxs)("div",{className:"modal",children:[i.jsx("div",{className:"modal-white-drop",onClick:e}),(0,i.jsxs)("div",{className:"modal-inner-mini",children:[(0,i.jsxs)("div",{className:"header-follow",children:[i.jsx("span",{}),i.jsx("h2",{children:s}),i.jsx("span",{onClick:e,children:"X"})]}),i.jsx("div",{children:Array.isArray(u)&&u.length>0?u.map(e=>(0,i.jsxs)("div",{className:"follow",children:[(0,i.jsxs)("div",{children:[i.jsx("img",{src:"/images/ink.png",alt:"User Avatar"}),i.jsx("p",{children:e.userFollowing?.fullName})]}),d(e.user_id)?i.jsx("button",{className:"button btn-mini",onClick:()=>a((0,o.fv)(e.user_id)),children:"Following"}):i.jsx("button",{className:"button btn-mini-blue",onClick:()=>a((0,o.PX)(e.user_id)),children:"Follow"})]},e.user_id)):null})]})]})}},7769:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});var i=r(9899);function l({item:e,posts:s,onClickPost:r}){return i.jsx("div",{className:"post-img",onClick:()=>r(e),children:e&&e.imageUrl&&i.jsx("img",{src:`http://46.101.192.129:1000${e.imageUrl}`,alt:"Post"})})}function t({posts:e,onClickPost:s}){let r=e.map(e=>i.jsx(l,{item:e,onClickPost:s},e.id));return i.jsx("div",{className:"profile-posts",children:r})}},5510:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>o,__esModule:()=>t,default:()=>n});var i=r(2772);let l=(0,i.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/profile/[username]/page.js`),{__esModule:t,$$typeof:o}=l;l.default;let n=(0,i.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/profile/[username]/page.js#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),i=s.X(0,[916,457,994,175,844,667],()=>r(7973));module.exports=i})();