(()=>{var e={};e.id=409,e.ids=[409],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2100:(e,t,o)=>{"use strict";o.r(t),o.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>y,tree:()=>c}),o(8777),o(2874),o(9353);var r=o(7105),s=o(5265),a=o(157),n=o.n(a),l=o(4665),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);o.d(t,i);let c=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.t.bind(o,2874,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,9353)),"/Users/khafiz/Desktop/insta_frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,2874,23)),"next/dist/client/components/not-found-error"]}],d=[],u="/_not-found/page",p={require:o,loadChunk:()=>Promise.resolve()},y=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6389:(e,t,o)=>{Promise.resolve().then(o.bind(o,9032))},6413:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,3817,23)),Promise.resolve().then(o.t.bind(o,9323,23)),Promise.resolve().then(o.t.bind(o,2204,23)),Promise.resolve().then(o.t.bind(o,820,23)),Promise.resolve().then(o.t.bind(o,5915,23)),Promise.resolve().then(o.t.bind(o,1611,23))},6357:(e,t,o)=>{"use strict";o.d(t,{N:()=>r});let r="http://46.101.192.129:1000"},9032:(e,t,o)=>{"use strict";o.d(t,{default:()=>u});var r=o(9899),s=o(407),a=o(7005),n=o(9196),l=o(82),i=o(1973);let c=(0,s.xC)({reducer:{auth:a.ZP,post:n.ZP,story:l.ZP,profile:i.ZP}});var d=o(9519);function u({children:e}){return r.jsx(d.zt,{store:c,children:e})}},7005:(e,t,o)=>{"use strict";o.d(t,{ZP:()=>p,ni:()=>c,uX:()=>u,y1:()=>d});var r=o(407),s=o(6294),a=o(8646),n=o(6357);let l=(0,r.oM)({name:"auth",initialState:{isAuth:!1,currentUser:null,tokenExt:0},reducers:{authorize:(e,t)=>{localStorage.setItem("token",t.payload.token),s.Z.defaults.headers.common.Authorization=`Bearer ${t.payload.token}`;let o=(0,a.o)(t.payload.token);e.currentUser={id:o.id,email:o.email,username:o.username},e.isAuth=!0,e.tokenExt=o.exp},logOut:e=>{e.isAuth=!1,e.currentUser=null,e.tokenExt=0,localStorage.removeItem("token")}}}),{authorize:i,logOut:c}=l.actions,d=(e,t,o)=>r=>{s.Z.post(`${n.N}/api/auth/signup`,{email:e,password:t,username:o}).then(e=>{r(i(e.data))})},u=(e,t)=>o=>{s.Z.post(`${n.N}/api/auth/login`,{email:e,password:t}).then(e=>{o(i(e.data))})},p=l.reducer},9196:(e,t,o)=>{"use strict";o.d(t,{Ir:()=>_,Nk:()=>w,Q5:()=>x,YF:()=>v,ZP:()=>k,dq:()=>P,fR:()=>h,j:()=>b,qb:()=>g});var r=o(407),s=o(6294),a=o(6357);let n=(0,r.oM)({name:"post",initialState:{posts:[],post:{comments:[]},allPost:[],likes:[]},reducers:{getMyPosts:(e,t)=>{e.posts=t.payload.posts},createMyPost:(e,t)=>{e.posts.push(t.payload.post)},deleteMyPost:(e,t)=>{let o=[...e.posts];o=o.filter(e=>e.id!==t.payload),e.posts=o},setPost:(e,t)=>{e.post=t.payload.post},setComment:(e,t)=>{let o=t.payload.comment;e.post.comments.push(o)},deletedComment:(e,t)=>{let o=e.post.comments.filter(e=>e.id!==t.payload);e.post.comments=o},setAllPosts:(e,t)=>{e.allPost=t.payload.postsAll},setLike:(e,t)=>{e.likes=[...e.likes,t.payload]},deletedLike:(e,t)=>{let o=[...e.likes];o.filter(e=>e.postId!=t.payload),e.likes=o}}}),{getMyPosts:l,createMyPost:i,deleteMyPost:c,setPost:d,setComment:u,deletedComment:p,setAllPosts:y,setLike:f,deletedLike:m}=n.actions,g=e=>async t=>{try{let o=await s.Z.post(`${a.N}/api/post/create`,e);t(i({post:o.data}))}catch(e){alert("Запрос на сервер не удался")}},h=e=>async t=>{try{await s.Z.delete(`${a.N}/api/post/delete/${e}`),t(c(e))}catch(e){alert("Запрос на сервер не удался")}},x=e=>async t=>{try{let o=await s.Z.get(`${a.N}/api/post/${e}`);t(d({post:o.data}))}catch(e){alert("Запрос на сервер не удался")}},P=(e,t)=>async o=>{console.log(e),console.log();try{await s.Z.put(`${a.N}/api/post/${e}`,t)}catch(e){console.log(e),alert("Запрос на сервер не удался")}},_=e=>async t=>{try{let o=await s.Z.post(`${a.N}/api/add-comment`,e);t(u({comment:o.data}))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},v=e=>async t=>{console.log("request id:",e);try{await s.Z.delete(`${a.N}/api/delete-comment/${e}`),t(p(e))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},b=e=>async t=>{try{let o=await s.Z.post(`${a.N}/api/post/like`,e);t(f(o.data))}catch(e){console.log(e),alert(e.response&&e.response.data.error)}},w=e=>async t=>{try{await s.Z.delete(`${a.N}/api/post/like/${e}`),t(m(e))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},k=n.reducer},1973:(e,t,o)=>{"use strict";o.d(t,{PX:()=>y,ZP:()=>m,fv:()=>f});var r=o(407),s=o(6294),a=o(6357);let n=(0,r.oM)({name:"profile",initialState:{profile:{},following:[],MyFollowing:[],followers:[],suggestions:[]},reducers:{setProfile:(e,t)=>{e.profile=t.payload},setFollowing:(e,t)=>{e.following=t.payload},setFollowers:(e,t)=>{e.followers=t.payload},addFollow:(e,t)=>{e.followers=[...e.followers,t.payload]},setMyFollowing:(e,t)=>{e.MyFollowing=t.payload},setSuggestions:(e,t)=>{e.suggestions=t.payload}}}),{setProfile:l,setFollowing:i,setFollowers:c,addFollow:d,setMyFollowing:u,setSuggestions:p}=n.actions,y=e=>async t=>{try{console.log("iddd",e);let o=await s.Z.post(`${a.N}/api/follow`,{id:e});t(d(o.data))}catch(e){console.log(e)}},f=e=>async t=>{try{await s.Z.delete(`${a.N}/api/unsubscribe/${e}`)}catch(e){console.log(e)}},m=n.reducer},82:(e,t,o)=>{"use strict";o.d(t,{DZ:()=>d,LA:()=>u,ZP:()=>p});var r=o(407),s=o(6294),a=o(6357);let n=(0,r.oM)({name:"story",initialState:{stories:[],story:[]},reducers:{getMyStories:(e,t)=>{e.stories=t.payload.stories},createMyStory:(e,t)=>{let o=[...e.stories,t.payload];e.stories=o},deleteMyStory:(e,t)=>{let o=[...e.stories];o=o.filter(e=>e.id!==t.payload),e.stories=o}}}),{getMyStories:l,createMyStory:i,deleteMyStory:c}=n.actions,d=e=>async t=>{try{let o=new FormData;o.append("imageUrl",e.selectedFile);let r=await s.Z.post(`${a.N}/api/story/create`,o,{headers:{"Content-Type":"multipart/form-data"}});t(i({story:r.data})),console.log("Story created successfully",r.data)}catch(e){console.error("Error creating story",e),alert("Запрос на сервер не удался")}},u=e=>async t=>{try{await s.Z.post(`${a.N}/api/story/delete/${e}`),t(c(e))}catch(e){alert("Запрос на сервер не удался"),console.log(e)}},p=n.reducer},9353:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>d,metadata:()=>c});var r=o(5023);o(1641);var s=o(2772);let a=(0,s.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/store/provider.js`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,s.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/store/provider.js#default`),c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(i,{children:e})})})}},4440:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var o in t)Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}(t,{isNotFoundError:function(){return s},notFound:function(){return r}});let o="NEXT_NOT_FOUND";function r(){let e=Error(o);throw e.digest=o,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===o}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8777:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var o in t)Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}(t,{PARALLEL_ROUTE_DEFAULT_PATH:function(){return s},default:function(){return a}});let r=o(4440),s="next/dist/client/components/parallel-route-default.js";function a(){(0,r.notFound)()}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1641:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[916,457],()=>o(2100));module.exports=r})();