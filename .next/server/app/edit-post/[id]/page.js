(()=>{var e={};e.id=765,e.ids=[765],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d}),s(1186),s(9353),s(2874);var r=s(7105),o=s(5265),a=s(157),i=s.n(a),n=s(4665),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["edit-post",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1186)),"/Users/khafiz/Desktop/insta_frontend/src/app/edit-post/[id]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3626))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9353)),"/Users/khafiz/Desktop/insta_frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3626))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/khafiz/Desktop/insta_frontend/src/app/edit-post/[id]/page.js"],c="/edit-post/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/edit-post/[id]/page",pathname:"/edit-post/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3762:(e,t,s)=>{Promise.resolve().then(s.bind(s,8377))},6389:(e,t,s)=>{Promise.resolve().then(s.bind(s,9032))},6413:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3817,23)),Promise.resolve().then(s.t.bind(s,9323,23)),Promise.resolve().then(s.t.bind(s,2204,23)),Promise.resolve().then(s.t.bind(s,820,23)),Promise.resolve().then(s.t.bind(s,5915,23)),Promise.resolve().then(s.t.bind(s,1611,23))},6357:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});let r="http://46.101.192.129:1000"},8377:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(9899),o=s(5507),a=s(1667),i=s(9519),n=s(9196),l=s(6153);let d=()=>{let[e,t]=(0,o.useState)(!0),[s,d]=(0,o.useState)(1),p=(0,o.useRef)(null),c=(0,i.I0)(),{id:u}=(0,l.useParams)(),m=(0,i.v9)(e=>e.post.post);return(0,o.useEffect)(()=>{function e(e){p.current&&!p.current.contains(e.target)&&d(0)}return 1===s?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),(0,o.useEffect)(()=>{c((0,n.Q5)(u))},[]),console.log("hete post",m),r.jsx(r.Fragment,{children:1===s&&r.jsx("div",{ref:p,children:r.jsx(a.Z,{setCreatePost:d,edit:!0,create:!1,post:m})})})}},9032:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(9899),o=s(407),a=s(7005),i=s(9196),n=s(82),l=s(1973);let d=(0,o.xC)({reducer:{auth:a.ZP,post:i.ZP,story:n.ZP,profile:l.ZP}});var p=s(9519);function c({children:e}){return r.jsx(p.zt,{store:d,children:e})}},7005:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>u,ni:()=>d,uX:()=>c,y1:()=>p});var r=s(407),o=s(6294),a=s(8646),i=s(6357);let n=(0,r.oM)({name:"auth",initialState:{isAuth:!1,currentUser:null,tokenExt:0},reducers:{authorize:(e,t)=>{localStorage.setItem("token",t.payload.token),o.Z.defaults.headers.common.Authorization=`Bearer ${t.payload.token}`;let s=(0,a.o)(t.payload.token);e.currentUser={id:s.id,email:s.email,username:s.username},e.isAuth=!0,e.tokenExt=s.exp},logOut:e=>{e.isAuth=!1,e.currentUser=null,e.tokenExt=0,localStorage.removeItem("token")}}}),{authorize:l,logOut:d}=n.actions,p=(e,t,s)=>r=>{o.Z.post(`${i.N}/api/auth/signup`,{email:e,password:t,username:s}).then(e=>{r(l(e.data))})},c=(e,t)=>s=>{o.Z.post(`${i.N}/api/auth/login`,{email:e,password:t}).then(e=>{s(l(e.data))})},u=n.reducer},9196:(e,t,s)=>{"use strict";s.d(t,{Ir:()=>v,Nk:()=>q,Q5:()=>x,YF:()=>w,ZP:()=>Z,dq:()=>P,fR:()=>g,j:()=>k,qb:()=>f});var r=s(407),o=s(6294),a=s(6357);let i=(0,r.oM)({name:"post",initialState:{posts:[],post:{comments:[]},allPost:[],likes:[]},reducers:{getMyPosts:(e,t)=>{e.posts=t.payload.posts},createMyPost:(e,t)=>{e.posts.push(t.payload.post)},deleteMyPost:(e,t)=>{let s=[...e.posts];s=s.filter(e=>e.id!==t.payload),e.posts=s},setPost:(e,t)=>{e.post=t.payload.post},setComment:(e,t)=>{let s=t.payload.comment;e.post.comments.push(s)},deletedComment:(e,t)=>{let s=e.post.comments.filter(e=>e.id!==t.payload);e.post.comments=s},setAllPosts:(e,t)=>{e.allPost=t.payload.postsAll},setLike:(e,t)=>{e.likes=[...e.likes,t.payload]},deletedLike:(e,t)=>{let s=[...e.likes];s.filter(e=>e.postId!=t.payload),e.likes=s}}}),{getMyPosts:n,createMyPost:l,deleteMyPost:d,setPost:p,setComment:c,deletedComment:u,setAllPosts:m,setLike:y,deletedLike:h}=i.actions,f=e=>async t=>{try{let s=await o.Z.post(`${a.N}/api/post/create`,e);t(l({post:s.data}))}catch(e){alert("Запрос на сервер не удался")}},g=e=>async t=>{try{await o.Z.delete(`${a.N}/api/post/delete/${e}`),t(d(e))}catch(e){alert("Запрос на сервер не удался")}},x=e=>async t=>{try{let s=await o.Z.get(`${a.N}/api/post/${e}`);t(p({post:s.data}))}catch(e){alert("Запрос на сервер не удался")}},P=(e,t)=>async s=>{console.log(e),console.log();try{await o.Z.put(`${a.N}/api/post/${e}`,t)}catch(e){console.log(e),alert("Запрос на сервер не удался")}},v=e=>async t=>{try{let s=await o.Z.post(`${a.N}/api/add-comment`,e);t(c({comment:s.data}))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},w=e=>async t=>{console.log("request id:",e);try{await o.Z.delete(`${a.N}/api/delete-comment/${e}`),t(u(e))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},k=e=>async t=>{try{let s=await o.Z.post(`${a.N}/api/post/like`,e);t(y(s.data))}catch(e){console.log(e),alert(e.response&&e.response.data.error)}},q=e=>async t=>{try{await o.Z.delete(`${a.N}/api/post/like/${e}`),t(h(e))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},Z=i.reducer},1973:(e,t,s)=>{"use strict";s.d(t,{PX:()=>m,ZP:()=>h,fv:()=>y});var r=s(407),o=s(6294),a=s(6357);let i=(0,r.oM)({name:"profile",initialState:{profile:{},following:[],MyFollowing:[],followers:[],suggestions:[]},reducers:{setProfile:(e,t)=>{e.profile=t.payload},setFollowing:(e,t)=>{e.following=t.payload},setFollowers:(e,t)=>{e.followers=t.payload},addFollow:(e,t)=>{e.followers=[...e.followers,t.payload]},setMyFollowing:(e,t)=>{e.MyFollowing=t.payload},setSuggestions:(e,t)=>{e.suggestions=t.payload}}}),{setProfile:n,setFollowing:l,setFollowers:d,addFollow:p,setMyFollowing:c,setSuggestions:u}=i.actions,m=e=>async t=>{try{console.log("iddd",e);let s=await o.Z.post(`${a.N}/api/follow`,{id:e});t(p(s.data))}catch(e){console.log(e)}},y=e=>async t=>{try{await o.Z.delete(`${a.N}/api/unsubscribe/${e}`)}catch(e){console.log(e)}},h=i.reducer},82:(e,t,s)=>{"use strict";s.d(t,{DZ:()=>p,LA:()=>c,ZP:()=>u});var r=s(407),o=s(6294),a=s(6357);let i=(0,r.oM)({name:"story",initialState:{stories:[],story:[]},reducers:{getMyStories:(e,t)=>{e.stories=t.payload.stories},createMyStory:(e,t)=>{let s=[...e.stories,t.payload];e.stories=s},deleteMyStory:(e,t)=>{let s=[...e.stories];s=s.filter(e=>e.id!==t.payload),e.stories=s}}}),{getMyStories:n,createMyStory:l,deleteMyStory:d}=i.actions,p=e=>async t=>{try{let s=new FormData;s.append("imageUrl",e.selectedFile);let r=await o.Z.post(`${a.N}/api/story/create`,s,{headers:{"Content-Type":"multipart/form-data"}});t(l({story:r.data})),console.log("Story created successfully",r.data)}catch(e){console.error("Error creating story",e),alert("Запрос на сервер не удался")}},c=e=>async t=>{try{await o.Z.post(`${a.N}/api/story/delete/${e}`),t(d(e))}catch(e){alert("Запрос на сервер не удался"),console.log(e)}},u=i.reducer},1186:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});var r=s(2772);let o=(0,r.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/edit-post/[id]/page.js`),{__esModule:a,$$typeof:i}=o;o.default;let n=(0,r.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/edit-post/[id]/page.js#default`)},9353:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p,metadata:()=>d});var r=s(5023);s(1641);var o=s(2772);let a=(0,o.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/store/provider.js`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,o.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/store/provider.js#default`),d={title:"Create Next App",description:"Generated by create next app"};function p({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(l,{children:e})})})}},3626:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(1645);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},1641:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[916,457,994,667],()=>s(7539));module.exports=r})();