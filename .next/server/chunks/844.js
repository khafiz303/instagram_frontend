exports.id=844,exports.ids=[844],exports.modules={6389:(e,t,s)=>{Promise.resolve().then(s.bind(s,9032))},6413:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3817,23)),Promise.resolve().then(s.t.bind(s,9323,23)),Promise.resolve().then(s.t.bind(s,2204,23)),Promise.resolve().then(s.t.bind(s,820,23)),Promise.resolve().then(s.t.bind(s,5915,23)),Promise.resolve().then(s.t.bind(s,1611,23))},6357:(e,t,s)=>{"use strict";s.d(t,{N:()=>o});let o="http://46.101.192.129:1000"},9032:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var o=s(9899),a=s(407),l=s(7005),r=s(9196),i=s(82),n=s(1973);let c=(0,a.xC)({reducer:{auth:l.ZP,post:r.ZP,story:i.ZP,profile:n.ZP}});var d=s(9519);function p({children:e}){return o.jsx(d.zt,{store:c,children:e})}},7005:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>u,ni:()=>c,uX:()=>p,y1:()=>d});var o=s(407),a=s(6294),l=s(8646),r=s(6357);let i=(0,o.oM)({name:"auth",initialState:{isAuth:!1,currentUser:null,tokenExt:0},reducers:{authorize:(e,t)=>{localStorage.setItem("token",t.payload.token),a.Z.defaults.headers.common.Authorization=`Bearer ${t.payload.token}`;let s=(0,l.o)(t.payload.token);e.currentUser={id:s.id,email:s.email,username:s.username},e.isAuth=!0,e.tokenExt=s.exp},logOut:e=>{e.isAuth=!1,e.currentUser=null,e.tokenExt=0,localStorage.removeItem("token")}}}),{authorize:n,logOut:c}=i.actions,d=(e,t,s)=>o=>{a.Z.post(`${r.N}/api/auth/signup`,{email:e,password:t,username:s}).then(e=>{o(n(e.data))})},p=(e,t)=>s=>{a.Z.post(`${r.N}/api/auth/login`,{email:e,password:t}).then(e=>{s(n(e.data))})},u=i.reducer},9196:(e,t,s)=>{"use strict";s.d(t,{Ir:()=>w,Nk:()=>Z,Q5:()=>x,YF:()=>P,ZP:()=>$,dq:()=>v,fR:()=>f,j:()=>k,qb:()=>g});var o=s(407),a=s(6294),l=s(6357);let r=(0,o.oM)({name:"post",initialState:{posts:[],post:{comments:[]},allPost:[],likes:[]},reducers:{getMyPosts:(e,t)=>{e.posts=t.payload.posts},createMyPost:(e,t)=>{e.posts.push(t.payload.post)},deleteMyPost:(e,t)=>{let s=[...e.posts];s=s.filter(e=>e.id!==t.payload),e.posts=s},setPost:(e,t)=>{e.post=t.payload.post},setComment:(e,t)=>{let s=t.payload.comment;e.post.comments.push(s)},deletedComment:(e,t)=>{let s=e.post.comments.filter(e=>e.id!==t.payload);e.post.comments=s},setAllPosts:(e,t)=>{e.allPost=t.payload.postsAll},setLike:(e,t)=>{e.likes=[...e.likes,t.payload]},deletedLike:(e,t)=>{let s=[...e.likes];s.filter(e=>e.postId!=t.payload),e.likes=s}}}),{getMyPosts:i,createMyPost:n,deleteMyPost:c,setPost:d,setComment:p,deletedComment:u,setAllPosts:y,setLike:m,deletedLike:h}=r.actions,g=e=>async t=>{try{let s=await a.Z.post(`${l.N}/api/post/create`,e);t(n({post:s.data}))}catch(e){alert("Запрос на сервер не удался")}},f=e=>async t=>{try{await a.Z.delete(`${l.N}/api/post/delete/${e}`),t(c(e))}catch(e){alert("Запрос на сервер не удался")}},x=e=>async t=>{try{let s=await a.Z.get(`${l.N}/api/post/${e}`);t(d({post:s.data}))}catch(e){alert("Запрос на сервер не удался")}},v=(e,t)=>async s=>{console.log(e),console.log();try{await a.Z.put(`${l.N}/api/post/${e}`,t)}catch(e){console.log(e),alert("Запрос на сервер не удался")}},w=e=>async t=>{try{let s=await a.Z.post(`${l.N}/api/add-comment`,e);t(p({comment:s.data}))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},P=e=>async t=>{console.log("request id:",e);try{await a.Z.delete(`${l.N}/api/delete-comment/${e}`),t(u(e))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},k=e=>async t=>{try{let s=await a.Z.post(`${l.N}/api/post/like`,e);t(m(s.data))}catch(e){console.log(e),alert(e.response&&e.response.data.error)}},Z=e=>async t=>{try{await a.Z.delete(`${l.N}/api/post/like/${e}`),t(h(e))}catch(e){console.log(e),alert("Запрос на сервер не удался")}},$=r.reducer},1973:(e,t,s)=>{"use strict";s.d(t,{PX:()=>y,ZP:()=>h,fv:()=>m});var o=s(407),a=s(6294),l=s(6357);let r=(0,o.oM)({name:"profile",initialState:{profile:{},following:[],MyFollowing:[],followers:[],suggestions:[]},reducers:{setProfile:(e,t)=>{e.profile=t.payload},setFollowing:(e,t)=>{e.following=t.payload},setFollowers:(e,t)=>{e.followers=t.payload},addFollow:(e,t)=>{e.followers=[...e.followers,t.payload]},setMyFollowing:(e,t)=>{e.MyFollowing=t.payload},setSuggestions:(e,t)=>{e.suggestions=t.payload}}}),{setProfile:i,setFollowing:n,setFollowers:c,addFollow:d,setMyFollowing:p,setSuggestions:u}=r.actions,y=e=>async t=>{try{console.log("iddd",e);let s=await a.Z.post(`${l.N}/api/follow`,{id:e});t(d(s.data))}catch(e){console.log(e)}},m=e=>async t=>{try{await a.Z.delete(`${l.N}/api/unsubscribe/${e}`)}catch(e){console.log(e)}},h=r.reducer},82:(e,t,s)=>{"use strict";s.d(t,{DZ:()=>d,LA:()=>p,ZP:()=>u});var o=s(407),a=s(6294),l=s(6357);let r=(0,o.oM)({name:"story",initialState:{stories:[],story:[]},reducers:{getMyStories:(e,t)=>{e.stories=t.payload.stories},createMyStory:(e,t)=>{let s=[...e.stories,t.payload];e.stories=s},deleteMyStory:(e,t)=>{let s=[...e.stories];s=s.filter(e=>e.id!==t.payload),e.stories=s}}}),{getMyStories:i,createMyStory:n,deleteMyStory:c}=r.actions,d=e=>async t=>{try{let s=new FormData;s.append("imageUrl",e.selectedFile);let o=await a.Z.post(`${l.N}/api/story/create`,s,{headers:{"Content-Type":"multipart/form-data"}});t(n({story:o.data})),console.log("Story created successfully",o.data)}catch(e){console.error("Error creating story",e),alert("Запрос на сервер не удался")}},p=e=>async t=>{try{await a.Z.post(`${l.N}/api/story/delete/${e}`),t(c(e))}catch(e){alert("Запрос на сервер не удался"),console.log(e)}},u=r.reducer},5949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(9899),a=s(5507),l=s(9519),r=s(9196),i=s(6153);s(1973);var n=s(4175);function c({username:e,shadow:t,dop:s,text:c,remove:d,follow:p,size:u,imgSize:y,selectedPost:m,deleted:h,close:g,follower:f,myFollowing:x,following:v,link:w,userId:P}){let[k,Z]=(0,a.useState)(!1),$=(0,i.useRouter)(),j=(0,l.I0)(),N=(0,l.v9)(e=>e.auth.currentUser?.id);return(0,o.jsxs)("div",{className:`user-mini ${t} ${u}`,children:[(0,o.jsxs)("div",{className:"user-m-img",children:[o.jsx("img",{src:"/images/ink.png",alt:"Profile Picture",className:y}),!p&&o.jsx("p",{children:e}),p&&o.jsx("div",{className:"df",children:w?o.jsx(n.default,{href:`/profile/${e}`,children:o.jsx("p",{children:e})}):o.jsx("p",{children:e})})]}),(0,o.jsxs)("div",{children:[c&&o.jsx("p",{children:c}),s&&P==N&&o.jsx("span",{onClick:()=>{Z(!0)},children:s}),d&&o.jsx("button",{className:"button btn-mini",onClick:h,children:d?"remove":""})]}),k&&(0,o.jsxs)("div",{className:"toggle",children:[o.jsx("div",{onClick:()=>$.push("/edit-post/"+m),children:o.jsx("p",{children:"Edit"})}),o.jsx("div",{children:o.jsx("p",{onClick:()=>{j((0,r.fR)(m)),g()},children:"Delete"})})]})]})}},9353:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var o=s(5023);s(1641);var a=s(2772);let l=(0,a.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/store/provider.js`),{__esModule:r,$$typeof:i}=l;l.default;let n=(0,a.createProxy)(String.raw`/Users/khafiz/Desktop/insta_frontend/src/app/store/provider.js#default`),c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return o.jsx("html",{lang:"en",children:o.jsx("body",{children:o.jsx(n,{children:e})})})}},3626:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(1645);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},1641:()=>{}};